<mat-card>
  <mat-spinner *ngIf="isLoading"></mat-spinner>
  <div class="form-container" *ngIf="!isLoading">
    <h1>{{ form.controls.title.value }}</h1>
    <div class="img-container">
      <img src="{{ form.controls.imagePath.value }}" />
    </div>
    <form [formGroup]="form" (ngSubmit)="onSaveGame()">
      <mat-form-field class="form-field" appearance="legacy">
        <mat-label>Title</mat-label>
        <input matInput formControlName="title" required id="title" />
        <mat-error
          *ngIf="form.controls.title.touched && form.controls.title.invalid"
        >
          <span *ngIf="form.controls.title.errors?.required">{{
            errors.required
          }}</span>
          <span *ngIf="form.controls.title.errors?.minlength">{{
            errors.minLength2
          }}</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-field" appearance="legacy">
        <mat-label>Image</mat-label>
        <input
          matInput
          formControlName="imagePath"
          placeholder="Insert link to image path"
          id="imagePath"
        />
      </mat-form-field>
      <mat-form-field class="form-field" appearance="legacy">
        <mat-label>minAge</mat-label>
        <input
          matInput
          formControlName="minAge"
          required
          type="number"
          id="minAge"
        />
        <mat-error
          *ngIf="form.controls.minAge.touched && form.controls.minAge.invalid"
        >
          <span *ngIf="form.controls.minAge.errors?.required">{{
            errors.required
          }}</span>
        </mat-error>
      </mat-form-field>
      <div class="flex horizontal">
        <mat-form-field class="form-field" appearance="legacy">
          <mat-label>minPlayers</mat-label>
          <input
            matInput
            formControlName="minPlayers"
            required
            type="number"
            id="minPlayers"
          />
          <mat-error
            *ngIf="
              form.controls.minPlayers.touched &&
              form.controls.minPlayers.invalid
            "
          >
            <span *ngIf="form.controls.minPlayers.errors?.required">{{
              errors.required
            }}</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="legacy">
          <mat-label>maxPlayers</mat-label>
          <input
            matInput
            formControlName="maxPlayers"
            required
            type="number"
            id="maxPlayers"
          />
          <mat-error
            *ngIf="
              form.controls.maxPlayers.touched &&
              form.controls.maxPlayers.invalid
            "
          >
            <span *ngIf="form.controls.maxPlayers.errors?.required">{{
              errors.required
            }}</span>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="flex horizontal">
        <mat-form-field class="form-field" appearance="legacy">
          <mat-label>minPlayTime</mat-label>
          <input
            matInput
            formControlName="minPlayTime"
            required
            type="number"
            id="minPlayTime"
          />
          <mat-error
            *ngIf="
              form.controls.minPlayTime.touched &&
              form.controls.minPlayTime.invalid
            "
          >
            <span *ngIf="form.controls.minPlayTime.errors?.required">{{
              errors.required
            }}</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="legacy">
          <mat-label>maxPlayTime</mat-label>
          <input
            matInput
            formControlName="maxPlayTime"
            required
            type="number"
            id="maxPlayTime"
          />
          <mat-error
            *ngIf="
              form.controls.maxPlayTime.touched &&
              form.controls.maxPlayTime.invalid
            "
          >
            <span *ngIf="form.controls.maxPlayTime.errors?.required">{{
              errors.required
            }}</span>
          </mat-error>
        </mat-form-field>
      </div>
      <mat-form-field class="form-field" appearance="legacy">
        <mat-label>gameType</mat-label>
        <mat-select required value="boardgame" id="gameType">
          <mat-option value="boardgame">Boardgame</mat-option>
          <mat-option value="videogame">Videogame</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-checkbox formControlName="consider" id="consider"
        >Consider game in play selection</mat-checkbox
      >
      <mat-form-field class="form-field" appearance="legacy">
        <mat-label>note</mat-label>
        <textarea matInput formControlName="note" id="note"></textarea>
      </mat-form-field>
      <div class="button-container">
        <button mat-raised-button routerLink="/games/list" type="submit">
          Cancel
        </button>
        <button
          mat-raised-button
          class="save-button"
          type="submit"
          color="accent"
        >
          Save Game
        </button>
      </div>
    </form>
  </div>
</mat-card>
